/*! ld28 26-01-2014 */
function logPlay(){_gaq.push(["_trackEvent","Button","Play"])}function start(){var a=new Date;window.app=new sugarLab.Game({canvas:document.getElementById("GameCanvas")}),app.camera=new sugarLab.Camera(app.sctx,new sugarLab.Vec2(0,0)),app.assetCollection=new sugarLab.AssetCollection("res/assets.json",app,function(){_gaq.push(["_trackEvent","Game","Load","",(new Date-a)/1e3]),$(".canvas-container").append(domjs.build(templates.modal));var b=new sugarLab.Scene("loading",[],function(){});b.addEntity({percentLoaded:0,textLocation:new sugarLab.Vec2(400,300),update:function(){100===app.assetCollection.getLoadedPercentage()&&app.transitionScene("menu")},draw:function(a){a.clearRect(0,0,800,600),app.camera.drawText({location:app.screenSize.getScaled(.5),align:"center",text:app.assetCollection.getLoadedPercentage().toFixed()+"%",color:TEXT_COLOR,font:"72px Arial"})}});var c=new sugarLab.Scene("menu",[],function(){var a=$(".modal");a.append(domjs.build(templates.menu))}),d=new sugarLab.Scene("settings",[],function(){var a=$(".modal");a.append(domjs.build(templates.settings)),$(".menu .button").on("click",function(){var b=$(this).attr("id");"menu"===b&&(a.empty(),a.off(),app.transitionScene(b))}),app.currentScene.addEntity({update:function(){},draw:function(a){a.clearRect(0,0,800,600)}})}),e=new sugarLab.Scene("about",[],function(){var a=$(".modal");a.append(domjs.build(templates.about)),$(".menu .button").on("click",function(){a.empty(),a.off(),app.transitionScene($(this).attr("id"))}),app.currentScene.addEntity({update:function(){},draw:function(a){a.clearRect(0,0,800,600)}})}),f=new sugarLab.Scene("game",[],function(){});app.addScene(b),app.addScene(c),app.addScene(f),app.addScene(d),app.addScene(e),app.transitionScene("loading"),app.start()})}var CAMERA_OFFSET=new sugarLab.Vec2(0,0);